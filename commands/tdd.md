---
description: 테스트 주도 개발 워크플로우 강제. 인터페이스 스캐폴딩, 테스트 먼저 생성, 최소한의 코드로 구현. 80%+ 커버리지 보장.
---

# TDD 커맨드

이 커맨드는 **tdd-guide** 에이전트를 호출하여 테스트 주도 개발 방법론을 강제합니다.

## 이 커맨드가 하는 일

1. **인터페이스 스캐폴딩** - 먼저 타입/인터페이스 정의
2. **테스트 먼저 생성** - 실패하는 테스트 작성 (RED)
3. **최소한의 코드 구현** - 통과할 만큼만 작성 (GREEN)
4. **리팩토링** - 테스트가 그린인 상태로 코드 개선 (REFACTOR)
5. **커버리지 확인** - 80%+ 테스트 커버리지 보장

## 사용 시점

`/tdd` 사용 시점:
- 새 기능 구현
- 새 함수/컴포넌트 추가
- 버그 수정 (먼저 버그를 재현하는 테스트 작성)
- 기존 코드 리팩토링
- 중요 비즈니스 로직 구축

## 작동 방식

tdd-guide 에이전트가 수행하는 작업:

1. 입력/출력을 위한 **인터페이스 정의**
2. **실패할 테스트 작성** (코드가 아직 없으므로)
3. **테스트 실행** 및 올바른 이유로 실패하는지 확인
4. 테스트 통과를 위한 **최소한의 구현 작성**
5. **테스트 실행** 및 통과 확인
6. 테스트가 그린인 상태로 **리팩토링**
7. **커버리지 확인** 및 80% 미만이면 테스트 추가

## TDD 사이클

```
RED → GREEN → REFACTOR → REPEAT

RED:      실패하는 테스트 작성
GREEN:    통과할 최소한의 코드 작성
REFACTOR: 코드 개선, 테스트는 통과 유지
REPEAT:   다음 기능/시나리오
```

## TDD 모범 사례

**해야 할 것:**
- ✅ 구현 전에 테스트를 먼저 작성
- ✅ 테스트 실행하고 구현 전에 실패 확인
- ✅ 테스트 통과할 최소한의 코드 작성
- ✅ 테스트가 그린일 때만 리팩토링
- ✅ 엣지 케이스 및 오류 시나리오 추가
- ✅ 80%+ 커버리지 목표 (중요 코드는 100%)

**하지 말아야 할 것:**
- ❌ 테스트 전에 구현 작성
- ❌ 각 변경 후 테스트 실행 건너뛰기
- ❌ 한 번에 너무 많은 코드 작성
- ❌ 실패하는 테스트 무시
- ❌ 구현 세부사항 테스트 (동작 테스트)
- ❌ 모든 것 모킹 (통합 테스트 선호)

## 포함할 테스트 유형

**단위 테스트** (함수 레벨):
- 행복한 경로 시나리오
- 엣지 케이스 (비어 있음, null, 최대값)
- 오류 조건
- 경계 값

**통합 테스트** (컴포넌트 레벨):
- API 엔드포인트
- 데이터베이스 작업
- 외부 서비스 호출
- 훅이 있는 React 컴포넌트

**E2E 테스트** (`/e2e` 커맨드 사용):
- 중요 사용자 흐름
- 멀티 스텝 프로세스
- 풀 스택 통합

## 커버리지 요구사항

- **80% 최소** 모든 코드
- **100% 필수** 대상:
  - 금융 계산
  - 인증 로직
  - 보안에 중요한 코드
  - 핵심 비즈니스 로직

## 중요 참고사항

**필수**: 테스트는 구현 전에 작성되어야 합니다. TDD 사이클:

1. **RED** - 실패하는 테스트 작성
2. **GREEN** - 통과하도록 구현
3. **REFACTOR** - 코드 개선

RED 단계를 절대 건너뛰지 마세요. 테스트 전에 코드를 절대 작성하지 마세요.

## 다른 커맨드와의 통합

- `/plan`을 먼저 사용하여 무엇을 구축할지 이해
- `/tdd`를 사용하여 테스트와 함께 구현
- `/build-and-fix`를 사용하여 빌드 오류 발생 시
- `/code-review`를 사용하여 구현 검토
- `/test-coverage`를 사용하여 커버리지 확인

## 관련 에이전트

이 커맨드는 다음 에이전트를 호출합니다:
`~/.claude/agents/tdd-guide.md`

다음 스킬을 참조할 수 있습니다:
`~/.claude/skills/tdd-workflow/`
